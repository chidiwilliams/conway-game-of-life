var e={next:function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=new Array(e[n].length);for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++){let i=0;for(let t=-1;t<=1;t++)for(let r=-1;r<=1;r++)0===t&&0===r||void 0===e[n+t]||void 0===e[n+t][o+r]||!e[n+t][o+r]||i++;t[n][o]=e[n][o]&&2===i||3===i}return t}}.next;const t=(()=>{let e;return{render:function(t,n,o){const i=t.getContext("2d");for(let t=0;t<n.length;t++)for(let r=0;r<n[t].length;r++){const c=n[t][r];e&&c===e[t][r]||(i.beginPath(),i.strokeStyle="#555555",i.fillStyle=c?"#ffffff":"#000000",i.lineWidth=1,i.rect(r*o,t*o,o,o),i.fill(),i.stroke())}e=n},resizeCanvasToDisplaySize:function(e){const t=e.clientWidth,n=e.clientHeight;return(e.width!==t||e.height!==n)&&(e.width=t,e.height=n,!0)},requestAnimationFrame:function(e,t){let n;window.requestAnimationFrame((function o(i){void 0===n&&(n=i),i-n>t()&&(n=i,e()),window.requestAnimationFrame(o)}))}}})(),n=(()=>{function e(e,t,n=((e,t)=>!1)){const o=[];for(let i=0;i<t;i++){const t=[];for(let o=0;o<e;o++)t.push(n(i,o));o.push(t)}return o}return{random:function(t,n,o=.25){const i=.8;return e(t,n,((e,r)=>e/n>1-i&&e/n<i&&r/t>1-i&&r/t<i&&Math.random()<o))},create:e,getPopulation:function(e){let t=0;for(let n=0;n<e.length;n++)for(let o=0;o<e[n].length;o++)e[n][o]&&t++;return t}}})();(()=>{const o=document.getElementById("generations-count"),i=document.getElementById("population-count"),r=document.getElementById("start"),c=document.getElementById("clear"),a=document.getElementById("random"),l=document.getElementById("speed"),u=document.getElementById("speed-value"),d=document.querySelector("canvas");let s,f,h,m,g,w=!1,v=0;function y(e){f=e(f),t.render(d,f,s),i.textContent=String(n.getPopulation(f))}function p(e){E(Math.pow(e.target.value,2))}function E(e){g=1/e,u.textContent=e.toFixed(2),l.value=Math.pow(e,.5)}function x(e){if(!e.ctrlKey&&!e.metaKey)switch(e.key){case"p":case"P":L();break;case"c":case"C":P();break;case"r":case"R":k()}}function L(){M(!w)}function P(){M(!1),C(),y((()=>n.create(h,m)))}function k(){C(),y((()=>n.random(h,m)))}function C(){v=0,o.textContent="0"}function M(e){w=e,r.textContent=w?"Pause (P)":"Play (P)"}return{init:function(){s=function(){const e=new URL(window.location.href);if("lg"===e.searchParams.get("size"))return Math.max(50,Math.max(window.innerHeight/50,window.innerWidth/50));return 20}(),function(){const e=new URL(window.location.href);E(+e.searchParams.get("speed")||1)}(),h=Math.ceil(window.innerWidth/s),m=Math.ceil(window.innerHeight/s),r.addEventListener("click",L),c.addEventListener("click",P),a.addEventListener("click",k),l.addEventListener("change",p),document.addEventListener("keydown",x);{let e,t,n=!1;function i(e){return{col:Math.floor(e.clientX/s),row:Math.floor(e.clientY/s)}}function u(t,n,o){if(t[n][o]===e)return t;const i=t.map((e=>[...e]));return i[n][o]=e,i}d.addEventListener("mousedown",(o=>{n=!0,t=w,M(!1);const{col:r,row:c}=i(o);e=!f[c][r],y((e=>u(e,c,r)))})),d.addEventListener("mousemove",(e=>{if(n){const{col:t,row:n}=i(e);y((e=>u(e,n,t)))}})),d.addEventListener("mouseup",(e=>{if(n){const{col:o,row:r}=i(e);y((e=>u(e,r,o))),n=!1,t&&M(!0)}}))}t.resizeCanvasToDisplaySize(d),y((()=>n.create(h,m))),t.requestAnimationFrame((()=>{w&&(o.textContent=String(v++),y((t=>e(t))))}),(()=>1e3*g))}}})().init();
//# sourceMappingURL=index.df0310b1.js.map
